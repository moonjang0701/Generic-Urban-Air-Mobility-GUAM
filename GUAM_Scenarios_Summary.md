# GUAM 시뮬레이션 시나리오 상세 분석

## 📊 시나리오 1: Sinusoidal Timeseries
**목적**: 호버 상태에서 미세 진동 테스트 (컨트롤러 안정성 확인)

### 비행 프로필:
- **시작 위치**: (0, 0, 0) - 지면
- **종료 위치**: (20, 10cos(...), 10sin(...)) - 20 ft 전방
- **시뮬레이션 시간**: 20초

### 속도:
- **전진 속도**: 1 ft/s (0.6 knots) ← 거의 호버
- **상승 속도**: 0 ft/s (진동만)
- **최고 속도**: ~1 ft/s

### 궤적:
- **수평 이동**: 20 ft (북쪽으로)
- **좌우 진동**: ±10 ft (매우 느린 주기 300초)
- **상하 진동**: ±10 ft (매우 느린 주기)
- **최대 고도**: ~10 ft

### 난이도: ⭐ (매우 쉬움)
- 호버 모드 위주
- 낮은 속도
- 작은 움직임

---

## 📊 시나리오 2: Hover to Transition (호버→전환→순항)
**목적**: eVTOL의 핵심 - 수직 이착륙에서 수평 비행으로 전환

### 비행 프로필:
- **단계 1 (0→20초)**: 수직 상승
  - 시작: (0, 0, 0) - 지면
  - 종료: (0, 0, -80) - 80 ft 고도
  - 상승 속도: -8 ft/s (4.8 knots) ↑
  
- **단계 2 (20→40초)**: 전환 및 가속
  - 시작: (0, 0, -80) - 80 ft 고도, 정지
  - 종료: (150, 0, -100) - 100 ft 고도, 150 ft 전방
  - 전진 속도: 15 ft/s (9 knots) →
  - 상승: 20 ft 추가

### 속도:
- **수직 상승**: 8 ft/s (4.8 knots)
- **전환 후 순항**: 15 ft/s (9 knots)
- **최종 고도**: 100 ft

### 궤적:
- **총 비행 거리**: 150 ft
- **총 상승 고도**: 100 ft
- **비행 시간**: 40초

### 난이도: ⭐⭐ (쉬움)
- eVTOL의 기본 비행 모드
- 낮은 속도
- 안정적인 전환

---

## 📊 시나리오 3: Cruise Climbing Turn (순항 상승 선회)
**목적**: 순항 중 90° 우선회 + 상승 동시 수행

### 비행 프로필:
- **초기 상태 (0→10초)**: 순항 비행
  - 위치: (0, 0, -100) - 100 ft 고도
  - 속도: ~150 ft/s (90 knots) 예상
  
- **선회 구간 (10→40초)**: 90° 우선회 + 상승
  - 선회 반경: 3600 ft
  - 선회 각도: 90°
  - 최종 위치: (1800+3600*sin(90°), 3600-3600*cos(90°), -200)
  - 최종 위치: (~5400, ~3600, -200)
  - 상승: 100 ft → 200 ft (+100 ft)

### 속도:
- **순항 속도**: ~150 ft/s (90 knots) 추정
- **상승률**: 100 ft / 30초 = 3.3 ft/s (200 ft/min)
- **선회율**: 90° / 30초 = 3°/초

### 궤적:
- **선회 반경**: 3600 ft (0.68 마일)
- **선회 거리**: ~5655 ft (π × 3600 / 2)
- **총 상승**: 100 ft
- **총 시간**: 40초

### 난이도: ⭐⭐⭐⭐ (어려움)
- 고속 순항
- 선회 + 상승 동시
- ⚠️ 이 시나리오에서 PropSpd 에러 발생 가능!

---

## 📊 시나리오 4: Ramp Demo (램프 프로필)
**목적**: 단계적 가속/감속 프로필로 전체 비행 포락선 테스트

### 비행 프로필 (활성화된 설정):
- **단계 1 (0→5초)**: 호버 대기
  - 위치: (0, 0, 0)
  - 속도: 0 ft/s
  
- **단계 2 (5→205초)**: 가속 (200초 동안)
  - Velocity X 증가: 1 ft/s² × 200초 = 200 ft/s (120 knots)
  - Velocity Z 증가: 1 ft/s² × 200초 = 200 ft/s 상승
  
- **단계 3 (205→210초)**: 감속 시작
  - Velocity X 감소: -1 ft/s²
  - Velocity Z 감소: -1 ft/s²
  
- **단계 4 (210→410초)**: 계속 감속
  - 추가 200초 감속
  
- **단계 5 (410→420초)**: 최종 안정화
  - 속도: 1 ft/s²로 복귀

### 속도:
- **최고 속도**: 200 ft/s (120 knots)
- **최고 상승률**: 200 ft/s (12000 ft/min)
- **평균 속도**: ~100 ft/s

### 궤적:
- **총 비행 시간**: 420초 (7분)
- **총 수평 거리**: ~20,000 ft (3.8 마일) 추정
- **최고 고도**: ~10,000 ft 추정

### 난이도: ⭐⭐⭐⭐⭐ (매우 어려움)
- 장시간 비행
- 고속 구간 포함
- 극한 상승률

---

## 📊 시나리오 5: Piecewise Bezier Trajectory (베지어 곡선 궤적)
**목적**: 부드러운 곡선 궤적으로 복잡한 경로 비행

### 옵션 1: Target Structure 방식

#### 비행 프로필:
- **X축 (북쪽)**:
  - 시작: 0 ft, 속도 100 ft/s
  - 중간 (20초): 2000 ft, 속도 100 ft/s
  - 종료 (40초): 3500 ft, 속도 50 ft/s
  
- **Y축 (동쪽)**:
  - 모든 시간: 0 ft (직진)
  
- **Z축 (고도)**:
  - 시작: 0 ft
  - 중간 (20초): 0 ft
  - 종료 (40초): 83.33 ft (상승)

#### 속도:
- **초기 속도**: 100 ft/s (60 knots)
- **최종 속도**: 50 ft/s (30 knots)
- **감속**: 50 ft/s over 40초

#### 궤적:
- **총 거리**: 3500 ft (0.66 마일)
- **총 상승**: 83 ft
- **비행 시간**: 40초

### 옵션 2: Trajectory File 방식

#### 비행 프로필:
- **X축 (북쪽)**:
  - 시작: 0 ft, 정지
  - 중간 (10초): 0 ft, 정지
  - 종료 (80초): 1750 ft, 속도 50 ft/s
  
- **Y축 (동쪽)**:
  - 모든 시간: 0 ft (직진)
  
- **Z축 (고도)**:
  - 시작: 0 ft
  - 중간 (20초): -80 ft, 하강 속도 -8.3 ft/s
  - 종료 (80초): -580 ft, 하강 속도 -8.3 ft/s

#### 속도:
- **최고 전진 속도**: 50 ft/s (30 knots)
- **하강 속도**: 8.3 ft/s (500 ft/min)

#### 궤적:
- **총 거리**: 1750 ft
- **총 하강**: 580 ft
- **비행 시간**: 80초

### 난이도: ⭐⭐⭐ (중간)
- 부드러운 곡선
- 중간 속도
- 복잡한 궤적

---

## 🎯 시나리오 비교표

| 시나리오 | 시간 | 최고속도 | 최대고도 | 비행거리 | 난이도 | 용도 |
|---------|------|---------|---------|---------|--------|------|
| 1. Sinusoidal | 20초 | 1 ft/s (0.6 kts) | 10 ft | 20 ft | ⭐ | 안정성 테스트 |
| 2. Hover→Cruise | 40초 | 15 ft/s (9 kts) | 100 ft | 150 ft | ⭐⭐ | 전환 비행 |
| 3. Cruise Turn | 40초 | 150 ft/s (90 kts) | 200 ft | 5655 ft | ⭐⭐⭐⭐ | 고속 선회 |
| 4. Ramp | 420초 | 200 ft/s (120 kts) | 10000 ft | 20000 ft | ⭐⭐⭐⭐⭐ | 전체 포락선 |
| 5. Bezier | 40-80초 | 50-100 ft/s | 83-580 ft | 1750-3500 ft | ⭐⭐⭐ | 복잡 경로 |

---

## ⚠️ 주의사항

### PropSpeed Assertion 에러 발생 가능성:
1. **시나리오 3 (Cruise Turn)**: 고속 + 선회 = RPM 한계 근접
2. **시나리오 4 (Ramp)**: 극한 가속/상승률
3. **시나리오 1, 2, 5**: 상대적으로 안전

### 추천 테스트 순서:
1. ✅ 시나리오 1 (Sinusoidal) - 기본 동작 확인
2. ✅ 시나리오 2 (Hover→Cruise) - 전환 비행 확인
3. ✅ 시나리오 5 (Bezier) - 경로 추종 확인
4. ⚠️ 시나리오 3 (Cruise Turn) - 에러 가능
5. ⚠️ 시나리오 4 (Ramp) - 장시간 고난이도

---

## 🚁 NED 좌표계 참고
- **North (X)**: 북쪽 (양수 = 북쪽)
- **East (Y)**: 동쪽 (양수 = 동쪽)
- **Down (Z)**: 아래쪽 (양수 = 아래, 음수 = 위로 상승)
- 예: Z = -100 ft → 지상 100 ft 고도
